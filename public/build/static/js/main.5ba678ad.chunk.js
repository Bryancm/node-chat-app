(this.webpackJsonpchat=this.webpackJsonpchat||[]).push([[0],{57:function(A,e,t){},95:function(A,e,t){},96:function(A,e,t){"use strict";t.r(e);var a=t(1),s=t.n(a),c=t(22),n=t.n(c),r=(t(57),t(24)),i=t(4),o=t(17),l=t(49),m=t(2),u=t(0),j=function(A){var e=A.avatar,t=A.setAvatar,a=A.url;return Object(u.jsx)("img",{className:"avatar ".concat(e===a?"border-blue":""),src:a,loading:"lazy",alt:"avatar",onClick:function(){return t(a)}})},d=[{url:"https://cdn.iconscout.com/icon/free/png-256/avatar-370-456322.png",name:"John"},{url:"https://e7.pngegg.com/pngimages/109/994/png-clipart-teacher-student-college-school-education-avatars-child-face.png",name:"Chibi"},{url:"https://cdn1.iconfinder.com/data/icons/avatar-97/32/avatar-02-512.png",name:"Roberto"},{url:"http://cemokalab.com/wp-content/uploads/2015/07/avatar-369-456321.png",name:"Angelica"},{url:"https://cdn4.iconfinder.com/data/icons/avatars-xmas-giveaway/128/batman_hero_avatar_comics-512.png",name:"Maria"}],b=["Developers","Food","Desk","Ergonomics"],h=["Just do it","React","Home office"],g=function(A){var e=A.room,t=A.setRoom,s=A.avatar,c=A.setAvatar,n=A.name,r=A.setName,o=A.socket,l=Object(a.useState)(""),g=Object(i.a)(l,2),x=g[0],O=g[1],p=Object(m.g)(),v=function(A){if(A)return O(A);localStorage.setItem("user",JSON.stringify({name:n,room:e,avatar:s})),localStorage.setItem("ids",JSON.stringify([o.id])),p.push("/chat")};return Object(u.jsxs)("div",{className:"home-container",children:[Object(u.jsx)("h1",{className:"text-large text-dark-grey",children:"Join a chat"}),Object(u.jsxs)("div",{className:"join-container",children:[Object(u.jsx)("div",{className:"label-container",children:Object(u.jsx)("span",{className:"text-medium text-dark-green",children:"Name"})}),Object(u.jsx)("input",{value:n,className:"text-input",type:"text",placeholder:"John",onChange:function(A){return r(A.target.value)}}),Object(u.jsx)("div",{className:"label-container",children:Object(u.jsx)("span",{className:"text-medium text-dark-green",children:"Avatar"})}),Object(u.jsx)("div",{className:"avatar-container",children:d.map((function(A){return Object(u.jsx)(j,{url:A.url,avatar:s,setAvatar:c},A.url)}))}),Object(u.jsx)("div",{className:"label-container",children:Object(u.jsx)("span",{className:"text-medium text-dark-green",children:"Room"})}),Object(u.jsx)("input",{value:e,className:"text-input",type:"text",placeholder:"Developers",onChange:function(A){return t(A.target.value)}}),Object(u.jsx)("div",{className:"label-container",children:Object(u.jsx)("span",{className:"text-medium text-dark-green",children:"Highlighted rooms"})}),Object(u.jsx)("div",{className:"popular-container",children:b.map((function(A){return Object(u.jsx)("span",{className:"popular-item",onClick:function(e){return t(A)},children:A},A)}))}),Object(u.jsx)("div",{className:"popular-container",children:h.map((function(A){return Object(u.jsx)("span",{className:"popular-item",onClick:function(e){return t(A)},children:A},A)}))}),x&&Object(u.jsx)("span",{className:"text-small text-red",children:x}),Object(u.jsx)("div",{className:"button-container",children:Object(u.jsx)("button",{className:"button",onClick:function(){O(""),o.connected||o.connect(),o.emit("join",{room:e,name:n,url:s},v)},children:"Join"})})]})]})},x=function(A){var e=A.name,t=A.avatar;return Object(u.jsxs)("div",{className:"user-info-container",children:[Object(u.jsx)("img",{className:"user-info-avatar",src:t,alt:"avatar"}),Object(u.jsx)("span",{className:"text-medium text-dark-green",children:e})]})},O=t.p+"static/media/user.ed5b1bfe.svg",p=function(A){var e=A.members;return Object(u.jsx)("div",{className:"user-list-container",children:e&&e.map((function(A,e){return Object(u.jsxs)("div",{className:"user-list-item",children:[Object(u.jsx)("img",{src:A.url?A.url:O,className:"user-list-avatar",alt:"avatar"}),Object(u.jsx)("span",{className:"text-medium text-dark-green",children:A.name})]},e)}))})},v=t(51),f=(t(93),t.p+"static/media/chat.8c6b048a.svg"),N=t.p+"static/media/logout.4c3a4716.svg",w=function(A){var e=A.setView,t=A.socket,s=A.leave,c=Object(a.useState)(""),n=Object(i.a)(c,2),r=n[0],o=n[1],l=function(){t.emit("createMessage",{text:r},m)},m=function(){o("")};return Object(u.jsxs)("div",{className:"chat-footer-container",children:[Object(u.jsx)("div",{className:"mobile-menu",children:Object(u.jsx)(v.a,{trigger:Object(u.jsx)("button",{className:"mobile-menu-button shadow-shorter",children:Object(u.jsx)("img",{src:"data:image/png;base64,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",className:"menu-icon",alt:"menu-icon"})}),position:"top left",children:Object(u.jsxs)("div",{className:"menu-content",children:[Object(u.jsxs)("span",{className:"menu-option",onClick:function(){return e("members")},children:[Object(u.jsx)("span",{children:"Members"}),Object(u.jsx)("img",{className:"icon",src:O,alt:"members"})]}),Object(u.jsxs)("span",{className:"menu-option",onClick:function(){return e("chat")},children:[Object(u.jsx)("span",{children:"Chat"}),Object(u.jsx)("img",{className:"icon",src:f,alt:"chat"})]}),Object(u.jsxs)("span",{className:"menu-option",onClick:s,children:[Object(u.jsx)("span",{children:"Leave"}),Object(u.jsx)("img",{className:"icon",src:N,alt:"leave"})]})]})})}),Object(u.jsxs)("div",{className:"chat-footer-input-container shadow-shorter",children:[Object(u.jsx)("input",{value:r,type:"text",className:"chat-input",placeholder:"Aa",onChange:function(A){return o(A.target.value)},onKeyDown:function(A){"Enter"===A.key&&l()}}),Object(u.jsx)("button",{style:{marginLeft:10},className:"button",onClick:l,children:"Send"})]})]})},k=function(A){var e=A.userMessage,t=A.url,a=A.text,s=A.from,c=A.createdAt;return Object(u.jsx)("div",{className:"".concat(e?"message-item-container-user":"message-item-container"),children:Object(u.jsxs)("div",{className:"".concat(e?"message-item-user":"message-item"," "),children:[Object(u.jsxs)("div",{className:"message-item-avatar-container",children:[Object(u.jsx)("img",{src:t||"https://cdn.iconscout.com/icon/free/png-256/avatar-370-456322.png",className:"user-list-avatar",alt:"avatar"}),Object(u.jsx)("span",{className:"text-small text-dark-green",children:s})]}),Object(u.jsxs)("div",{className:"".concat(e?"message-item-text-container-user":"message-item-text-container"),children:[Object(u.jsx)("span",{className:"".concat(e?"text-white message-text-user":"text-dark-green message-text","  shadow-4"),children:a||"But I must explain to you how all this mistaken idea of denouncing pleasure and praising pain was born and I will give you a complete account of the system, and expound the actual teachings of the great explorer of the truth, the master-builder of human happiness. No one rejects, dislikes, or avoids pleasure itself, because it is pleasure, but because those who do not know how to pursue pleasure rationally encounter consequences that are extremely painful. Nor again is there anyone who loves or pursues or desires to obtain pain of itself, because it is pain, but because occasionally circumstances occur in which toil and pain can procure him some great pleasure. To take a trivial example, which of us ever undertakes laborious physical exercise, except to obtain some advantage from it? But who has any right to find fault with a man who chooses to enjoy a pleasure that has no annoying consequences, or one who avoids a pain that produces no resultant pleasure"}),Object(u.jsxs)("span",{className:"text-hour",children:[" ","".concat(c)]})]})]})})},y=t(52),M=t.n(y),C=function(A){var e=A.messages,t=(A.socket,JSON.parse(localStorage.getItem("ids")));return Object(u.jsx)("div",{className:"message-list-container",children:e.map((function(A,e){return Object(u.jsx)(k,{userMessage:A.userId&&t&&t.includes(A.userId),from:A.from,text:A.text,createdAt:M()(Number(A.createdAt)).format("h:mm a"),url:A.url},e)}))})},E=function(){var A=Object(a.useState)([0,0]),e=Object(i.a)(A,2),t=e[0],s=e[1];return Object(a.useLayoutEffect)((function(){function A(){s([window.innerWidth,window.innerHeight])}return window.addEventListener("resize",A),A(),function(){return window.removeEventListener("resize",A)}}),[]),t},I=function(A){var e=A.socket,t=A.room,s=A.setRoom,c=A.name,n=A.setName,r=A.setAvatar,o=A.avatar,l=A.messages,j=A.setMessages,d=A.members,b=A.setMembers,h=E(),g=Object(i.a)(h,1)[0],O=Object(a.useState)("chat"),v=Object(i.a)(O,2),f=v[0],k=v[1],y=Object(m.g)(),M=function(A){var e=document.getElementById(A);e&&(e.scrollTop=e.scrollHeight-e.clientHeight)};Object(a.useEffect)((function(){g>768&&k("chat")}),[g]),Object(a.useEffect)((function(){M("messageList")}),[l]),Object(a.useEffect)((function(){M("messageList")}),[]);var I=function(){s(""),n(""),r("https://cdn.iconscout.com/icon/free/png-256/avatar-370-456322.png"),j([]),b([]),y.push("/"),e.disconnect(),localStorage.setItem("user",null),localStorage.setItem("ids",null)};return Object(u.jsxs)("div",{className:"container",children:[Object(u.jsxs)("div",{className:"chat-sidebar",children:[Object(u.jsx)(x,{name:c,avatar:o}),Object(u.jsxs)("span",{className:"leave-option",onClick:I,children:[Object(u.jsx)("span",{children:"Leave"}),Object(u.jsx)("img",{className:"icon",src:N,alt:"leave"})]}),Object(u.jsx)("div",{className:"label-container",children:Object(u.jsxs)("span",{className:"text-medium",children:["Members (",d.length,")"]})}),Object(u.jsx)("div",{className:"user-list-scroll",children:Object(u.jsx)(p,{members:d})})]}),"chat"===f&&Object(u.jsxs)("div",{className:"chat-container",children:[Object(u.jsx)("div",{className:"room-name-container",children:Object(u.jsx)("span",{className:"room-name shadow-shorter text-dark-grey",children:t})}),Object(u.jsx)("div",{id:"messageList",className:"message-list-scroll",children:Object(u.jsx)(C,{messages:l,socket:e})}),Object(u.jsx)(w,{setView:k,socket:e,leave:I})]}),"members"===f&&Object(u.jsxs)("div",{className:"chat-container",children:[Object(u.jsx)(x,{name:c,avatar:o}),Object(u.jsx)("div",{className:"label-container",children:Object(u.jsxs)("span",{className:"text-medium",children:["Members (",d.length,")"]})}),Object(u.jsx)("div",{className:"user-list-scroll",children:Object(u.jsx)(p,{members:d})}),Object(u.jsx)(w,{setView:k,socket:e,leave:I})]})]})},B=function(){return Object(u.jsx)("div",{className:"home-container",children:Object(u.jsx)("h1",{className:"text-large text-dark-grey",children:"404 Not found"})})},R=function(A){var e=A.socket,t=A.room,s=A.setRoom,c=A.avatar,n=A.setAvatar,i=A.name,o=A.setName,l=A.messages,j=A.setMessages,d=A.members,b=A.setMembers,h=Object(m.i)(),x=Object(m.h)(),O=Object(m.g)();return Object(a.useEffect)((function(){var A=JSON.parse(localStorage.getItem("user")),t=function(A){j(A)};if("/"===x.pathname&&(A&&A.room?O.push("/chat"):O.push("/home")),"/chat"===x.pathname){if(!A)return O.push("/home");e.emit("join",{room:A.room,name:A.name,url:A.avatar},(function(a){if(a)return console.log(a);localStorage.setItem("user",JSON.stringify(A)),o(A.name),s(A.room),n(A.avatar),function(){var A=JSON.parse(localStorage.getItem("ids"));if(A){var t=[].concat(Object(r.a)(A),[e.id]);localStorage.setItem("ids",JSON.stringify(t))}}(),e.emit("getMessagesList",A.room,t)}))}}),[e,j,n,o,s,x,O]),Object(u.jsxs)(m.d,{children:[Object(u.jsx)(m.b,{path:"".concat(h.url,"home"),children:Object(u.jsx)(g,{socket:e,room:t,setRoom:s,avatar:c,setAvatar:n,name:i,setName:o,messages:l,setMessages:j,members:d,setMembers:b})}),Object(u.jsx)(m.b,{path:"".concat(h.url,"chat"),children:Object(u.jsx)(I,{socket:e,room:t,setRoom:s,avatar:c,setAvatar:n,name:i,setName:o,messages:l,setMessages:j,members:d,setMembers:b})}),Object(u.jsx)(m.b,{path:"".concat(h.url,"404"),children:Object(u.jsx)(B,{})}),Object(u.jsx)(m.a,{to:"/404"})]})},S=(t(95),Object(l.io)("http://localhost:3001",{transport:["websocket"]}));var z=function(){var A=Object(a.useState)([]),e=Object(i.a)(A,2),t=e[0],s=e[1],c=Object(a.useState)([]),n=Object(i.a)(c,2),l=n[0],m=n[1],j=Object(a.useState)(""),d=Object(i.a)(j,2),b=d[0],h=d[1],g=Object(a.useState)(""),x=Object(i.a)(g,2),O=x[0],p=x[1],v=Object(a.useState)("https://cdn.iconscout.com/icon/free/png-256/avatar-370-456322.png"),f=Object(i.a)(v,2),N=f[0],w=f[1];return Object(a.useEffect)((function(){S.on("updateUserList",(function(A){s(A)})),S.on("newMessage",(function(A){m((function(e){return[].concat(Object(r.a)(e),[A])}))}))}),[]),Object(u.jsx)("div",{children:Object(u.jsx)(o.a,{children:Object(u.jsx)(R,{socket:S,room:O,setRoom:p,avatar:N,setAvatar:w,name:b,setName:h,messages:l,setMessages:m,members:t,setMembers:s})})})},L=function(A){A&&A instanceof Function&&t.e(3).then(t.bind(null,97)).then((function(e){var t=e.getCLS,a=e.getFID,s=e.getFCP,c=e.getLCP,n=e.getTTFB;t(A),a(A),s(A),c(A),n(A)}))};n.a.render(Object(u.jsx)(s.a.StrictMode,{children:Object(u.jsx)(z,{})}),document.getElementById("root")),L()}},[[96,1,2]]]);
//# sourceMappingURL=main.5ba678ad.chunk.js.map